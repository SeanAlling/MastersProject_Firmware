/***************************************************************************************************
Name            :
Author          :
Version         :
Description     :
Creation Date   :
Revision History:
      DATE         BY                     DESCRIPTION
  -----------  ---------  -----------------------------------------------------
  
***************************************************************************************************/

/***************************************************************************************************
                                   Header File For This Source File
***************************************************************************************************/
#include "BSP_Timer.h"

/***************************************************************************************************
                                        System Header File
***************************************************************************************************/
#include <stdint.h>

/***************************************************************************************************
                                     User Defined Header Files
***************************************************************************************************/
#include "driverlib.h"

/******************************************//*Private*//********************************************
                            Typedef, Struct, Class, Union, & Enum Definitions
***************************************************************************************************/

/******************************************//*Private*//********************************************
                                    Static Function Prototypes
***************************************************************************************************/

/******************************************//*Private*//********************************************
                                    Constants & Macros Definitions
***************************************************************************************************/

/******************************************//*Private*//********************************************
                                    Private Variable Instantiations
***************************************************************************************************/
static uint32_t timer_ms = 0;

/******************************************//*Global*//*********************************************
                                    Global Variable Instantiations
***************************************************************************************************/

/***************************************************************************************************
                                          Function Bodies
***************************************************************************************************/

/***************************************Global (API) Functions*************************************/

void Timer_SysTickInit( uint32_t clock )
{
    MAP_SysTick_enableModule();
    // System clock is 3MHz -> 3000000 Hz.
    // Set systick period to 1ms

    MAP_SysTick_setPeriod(clock/1000);
    // Nifty way to change interupts on the fly here
    MAP_SysTick_registerInterrupt(Timer_SysTickInc);
    MAP_SysTick_enableInterrupt();
}

void Timer_SysTickInc(void)
{
    timer_ms++;
}

uint32_t GetSysTickTimerValue( void )
{
    return timer_ms;
}

/******************************************Private Functions***************************************/


/***************************************************************************************************
                                            End of file
***************************************************************************************************/